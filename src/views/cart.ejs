<h1>Shopping Cart</h1>

<section class="card">
  <h2>Add Item</h2>
  <form action="/cart/items" method="POST">
    <div class="form-group">
      <label for="name">Item Name</label>
      <input type="text" id="name" name="name" required placeholder="e.g., Milk">
    </div>
    <div class="form-group">
      <label for="quantity">Quantity</label>
      <input type="number" id="quantity" name="quantity" value="1" min="1">
    </div>
    <div class="form-group">
      <label for="search_terms">Search Terms (optional)</label>
      <input type="text" id="search_terms" name="search_terms" placeholder="e.g., whole milk gallon organic">
    </div>
    <button type="submit" class="btn">Add to Cart</button>
  </form>
</section>

<section class="card">
  <h2>Cart Items</h2>
  <% if (items.length === 0) { %>
    <p class="empty-state">Your cart is empty.</p>
  <% } else { %>
    <table class="table">
      <thead>
        <tr>
          <th>Item</th>
          <th>Quantity</th>
          <th>Search Terms</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% items.forEach(item => { %>
          <tr>
            <td><%= item.name %></td>
            <td><%= item.quantity %></td>
            <td><%= item.search_terms || '-' %></td>
            <td>
              <form action="/cart/items/<%= item.id %>/delete" method="POST" style="display:inline;">
                <button type="submit" class="btn btn-danger btn-sm">Remove</button>
              </form>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } %>
</section>
